<!DOCTYPE html><html><head> <title>Hunt The Wumpus</title> <style>body{background-color:white;color:#000;font-family:Arial,Helvetica,sans-serif}input{cursor:pointer}input[type="text"],input[type="email"],input[type="password"],input[type="search"],input[type="tel"],input[type="url"],input[type="number"]{cursor:text}button{cursor:pointer}h1,h2,h3{color:darkblue}a{text-decoration:none;color:royalblue}ul{list-style-type:circle;padding-left:20px}.hstack{display:flex;flex-direction:row;gap:10px}.vstack{display:flex;flex-direction:column;gap:10px}.game-container{display:flex;align-items:flex-start;gap:20px}#grid{display:grid;grid-template-columns:repeat(6,1fr);gap:2px}.cell{width:60px;height:60px;border:2px solid #ccc}.status-box{border:2px solid #333;padding:10px;width:300px;background-color:#f9f9f9;font-family:sans-serif}.status-box h3{margin-top:0}.status-box ul{list-style-type:none;padding-left:10px}.red{background-color:red}.wumpus{background-color:green}.hole{background-color:darkgray}.bat{background-color:tan}.arrow{background-color:blue}</style></head><body> <h1>Hunt The Wumpus</h1> <div class=game-container> <div class=grid id=grid></div> <div class=status-box> <h3>Status:</h3> <ul id=statusList> <li id=statusListPosition>You are at 0,0</li> </ul> </div> </div> <br></br> <div> <button onclick=init()>Restart</button> <label> <input type=checkbox id=toggleEntities> Toggle Entities </label> </div> <div> <label>Grid Size:<input type=number id=gridX placeholder=5 value=5 min=0>Ã—</label> <label><input type=number id=gridY placeholder=5 value=5 min=0></label> <button id=changeGridSize onclick=changeGridSize()>Change Grid Size</button> </div> <script>let gridWidth=5,gridHeight=5;const minGridX=3,minGridY=3,maxGridX=100,maxGridY=100,maxArrows=6;let arrows=5;const grid=document.getElementById("grid");let posX,posY,wumpusX,wumpusY,holeX,holeY,batX,batY,arrowX,arrowY,cells=[],gameFinished=!1,shootDirection=0,statusMessages=[],toggleEntities=document.getElementById("toggleEntities").checked,gridX=parseInt(document.getElementById("gridX").value)||3,gridY=parseInt(document.getElementById("gridY").value)||3;function randInt(e,s){return Math.floor(Math.random()*(s-e+1))+e}function deleteItem(e,s){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}function isInList(e,s){return s.includes(e)}function isNearIncludingDiagonals(e,s,t,o){const r=Math.abs(e-t),a=Math.abs(s-o);return r<=1&&a<=1&&!(0===r&&0===a)}function updateStatusMessage(e,s,t=statusMessages){const o=t.includes(s);e&&!o?t.push(s):!e&&o&&deleteItem(s,t)}function player_loose(e){gameFinished=!0,renderEntities(),statusMessages.push(e),setTimeout(()=>{alert(e),init(),deleteItem(e,statusMessages),gameFinished=!1,gameLoop()},50)}function player_win(){gameFinished=!0,renderEntities();const e="You win! You shot the wumpus!";statusMessages.push(e),setTimeout(()=>{alert(e),init(),deleteItem(e,statusMessages),gameFinished=!1,gameLoop()},50)}function dratsMissed(){if(isInList("Drats! You missed!",statusMessages)||(statusMessages.push("Drats! You missed!"),setTimeout(()=>deleteItem("Drats! You missed!",statusMessages),2e3)),6!=arrows)do{arrowX=randInt(0,gridWidth-1),arrowY=randInt(0,gridHeight-1)}while(arrowX===posX&&arrowY===posY||arrowX===wumpusX&&arrowY===wumpusY||arrowX===holeX&&arrowY===holeY||arrowX===batX&&arrowY===batY);do{wumpusX=randInt(0,gridWidth-1),wumpusY=randInt(0,gridHeight-1)}while(wumpusX===posX&&wumpusY===posY||wumpusX===arrowX&&wumpusY===arrowY||wumpusX===holeX&&wumpusY===holeY||wumpusX===batX&&wumpusY===batY)}function shoot(){if(arrows<=0)return isInList("You're out of arrows!",statusMessages)||(statusMessages.push("You're out of arrows!"),setTimeout(()=>deleteItem("You're out of arrows!",statusMessages),2e3)),void(shootDirection=0);arrows--;let e=!1;switch(shootDirection){case 1:wumpusY===posY&&wumpusX===posX-1&&(e=!0);break;case 2:wumpusY===posY&&wumpusX===posX+1&&(e=!0);break;case 3:wumpusX===posX&&wumpusY===posY-1&&(e=!0);break;case 4:wumpusX===posX&&wumpusY===posY+1&&(e=!0)}e?player_win():dratsMissed(),shootDirection=0}function changeGridSize(){const e=parseInt(document.getElementById("gridX").value,10)||3,s=parseInt(document.getElementById("gridY").value,10)||3;if(e<3||e>100||s<3||s>100)return void alert("Grid size must be between 3x3 and 100x100");confirm("This will also reset your game. Proceed?")&&(gridWidth=e,gridHeight=s,init())}function updatePosition(){cells.forEach(e=>e.classList.remove("red"));cells[posY*gridWidth+posX].classList.add("red")}function renderEntities(){function e(e,s){return e>=0&&e<gridWidth&&s>=0&&s<gridHeight}cells.forEach(e=>e.classList.remove("wumpus","hole","bat","arrow")),e(wumpusX,wumpusY)&&cells[wumpusY*gridWidth+wumpusX].classList.add("wumpus"),e(holeX,holeY)&&cells[holeY*gridWidth+holeX].classList.add("hole"),e(batX,batY)&&cells[batY*gridWidth+batX].classList.add("bat"),e(arrowX,arrowY)&&cells[arrowY*gridWidth+arrowX].classList.add("arrow")}function clearEntities(){cells.forEach(e=>{e.classList.remove("wumpus","hole","bat","arrow")})}function init(){posX=randInt(0,gridWidth-1),posY=randInt(0,gridHeight-1),shootDirection=0;do{wumpusX=randInt(0,gridWidth-1),wumpusY=randInt(0,gridHeight-1)}while(wumpusX===posX&&wumpusY===posY);do{holeX=randInt(0,gridWidth-1),holeY=randInt(0,gridHeight-1)}while(holeX===posX&&holeY===posY||holeX===wumpusX&&holeY===wumpusY);do{batX=randInt(0,gridWidth-1),batY=randInt(0,gridHeight-1)}while(batX===posX&&batY===posY||batX===wumpusX&&batY===wumpusY||batX===holeX&&batY===holeY);if(6!==arrows)do{arrowX=randInt(0,gridWidth-1),arrowY=randInt(0,gridHeight-1)}while(arrowX===posX&&arrowY===posY||arrowX===wumpusX&&arrowY===wumpusY||arrowX===holeX&&arrowY===holeY||arrowX===batX&&arrowY===batY);grid.innerHTML="",grid.style.gridTemplateColumns=`repeat(${gridWidth},1fr)`,cells=[];for(let e=0;e<gridHeight;e++)for(let s=0;s<gridWidth;s++){const t=document.createElement("div");t.classList.add("cell"),t.dataset.x=s,t.dataset.y=e,cells.push(t),grid.appendChild(t)}updatePosition()}gridX<3&&(gridX=3),gridY<3&&(gridY=3),document.addEventListener("keydown",e=>{switch(e.key){case"w":case"W":posY>0&&posY--;break;case"s":case"S":posY<gridHeight-1&&posY++;break;case"a":case"A":posX>0&&posX--;break;case"d":case"D":posX<gridWidth-1&&posX++;break;case"ArrowUp":shootDirection=3,shoot();break;case"ArrowDown":shootDirection=4,shoot();break;case"ArrowLeft":shootDirection=1,shoot();break;case"ArrowRight":shootDirection=2,shoot()}updatePosition()});let droppedX=null,droppedY=null;function update(){if(updateStatusMessage(isNearIncludingDiagonals(posX,posY,wumpusX,wumpusY),"You smell a wumpus"),updateStatusMessage(isNearIncludingDiagonals(posX,posY,batX,batY),"You hear flapping"),updateStatusMessage(isNearIncludingDiagonals(posX,posY,holeX,holeY),"You feel a breeze"),arrowX===posX&&arrowY===posY?(arrows=6,isInList("You found an arrow!",statusMessages)||statusMessages.push("You found an arrow!")):isInList("You found an arrow!",statusMessages)&&(deleteItem("You found an arrow!",statusMessages),arrowX=-1,arrowY=-1),posX===wumpusX&&posY===wumpusY)return player_loose("You lose! You met the wumpus!");if(posX===holeX&&posY===holeY)return player_loose("You lose! You fell into the bottomless pit!");if(posX===batX&&posY===batY){posX=randInt(0,gridWidth-1),posY=randInt(0,gridHeight-1),droppedX=posX,droppedY=posY;do{batX=randInt(0,gridWidth-1),batY=randInt(0,gridHeight-1)}while(batX===posX&&batY===posY||batX===wumpusX&&batY===wumpusY||batX===holeX&&batY===holeY||batX===arrowX&&batY===arrowY);isInList("Bats carried you away!",statusMessages)||statusMessages.push("Bats carried you away!")}null===droppedX||null===droppedY||posX===droppedX&&posY===droppedY||(deleteItem("Bats carried you away!",statusMessages),droppedX=null,droppedY=null);const e=document.getElementById("statusListPosition");e.innerHTML="";const s=document.createElement("li");s.textContent=`You are at ${posX},${posY}`,e.appendChild(s);const t=document.createElement("li");t.textContent=`Arrows:${arrows}/6`,e.appendChild(t);for(let s of statusMessages){const t=document.createElement("li");t.textContent=s,e.appendChild(t)}toggleEntities=document.getElementById("toggleEntities").checked,gridX=parseInt(document.getElementById("gridX").value)||3,gridY=parseInt(document.getElementById("gridY").value)||3,gridX<3&&(gridX=3),gridY<3&&(gridY=3),gridX>100&&(gridX=100),gridY>100&&(gridY=100)}function render(){updatePosition(),toggleEntities?renderEntities():clearEntities()}function gameLoop(){update(),render(),gameFinished||requestAnimationFrame(gameLoop)}init(),gameLoop();</script></body></html>