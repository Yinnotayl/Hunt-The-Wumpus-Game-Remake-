<!DOCTYPE html><html><head><title>Hunt The Wumpus</title><style>body{background-color:#fff;color:#000;font-family:Arial,Helvetica,sans-serif}input{cursor:pointer}input[type="text"],input[type="email"],input[type="password"],input[type="search"],input[type="tel"],input[type="url"],input[type="number"]{cursor:text}button{cursor:pointer}h1,h2,h3{color:darkblue}a{text-decoration:none;color:royalblue}ul{list-style-type:circle;padding-left:20px}.hstack{display:flex;flex-direction:row;gap:10px}.game-container{display:flex;align-items:flex-start;gap:20px}#grid{display:grid;grid-template-columns:repeat(6,1fr);gap:2px}.cell{width:60px;height:60px;border:2px solid #ccc}.status-box{border:2px solid #333;padding:10px;width:300px;background-color:#f9f9f9;font-family:sans-serif}.status-box h3{margin-top:0}.status-box ul{list-style-type:none;padding-left:10px}.red{background-color:red}.wumpus{background-color:green}.hole{background-color:darkgray}.bat{background-color:tan}.arrow{background-color:blue} </style></head><body><h1>Hunt The Wumpus</h1><div class="game-container"><div class="grid" id="grid"><!-- JavaScript will populate the grid --></div><div class="vstack"><div class="status-box"><h3>Status:</h3><ul id="statusList"><li id="statusListPosition">You are at 0,0</li></ul></div><div class="hstack"><form id="movementControls" onsubmit="return false;"><p>Move (W, A, S, D)</p><table><tbody><tr><td rowspan="3"><input type="image" src="https://osric.com/wumpus/images/left.png" width="44" height="44" value="<-" onclick="simulateKey('a')"></td><td><input type="image" src="https://osric.com/wumpus/images/up.png" width="44" height="44" value="^" onclick="simulateKey('w')"></td><td rowspan="3"><input type="image" src="https://osric.com/wumpus/images/right.png" width="44" height="44" value="->" onclick="simulateKey('d')"></td></tr><tr><td></td></tr><tr><td><input type="image" src="https://osric.com/wumpus/images/down.png" width="44" height="44" value="v" onclick="simulateKey('s')"></td></tr></tbody></table></form><form id="arrowControls" onsubmit="return false;"><p>Shoot (arrow keys)</p><table><tbody><tr><td rowspan="3"><input type="image" src="https://osric.com/wumpus/images/aleft.png" width="44" height="44" value="<-" onclick="simulateKey('ArrowLeft')"></td><td><input type="image" src="https://osric.com/wumpus/images/aup.png" width="44" height="44" value="^" onclick="simulateKey('ArrowUp')"></td><td rowspan="3"><input type="image" src="https://osric.com/wumpus/images/aright.png" width="44" height="44" value="->" onclick="simulateKey('ArrowRight')"></td></tr><tr><td></td></tr><tr><td><input type="image" src="https://osric.com/wumpus/images/adown.png" width="44" height="44" value="v" onclick="simulateKey('ArrowDown')"></td></tr></tbody></table></form></div></div></div><br></br><div><button onclick="init()">Restart</button></div><!-- About Hunt the Wumpus --><div><h2>About Hunt the Wumpus</h2><label>The original version of Hunt the Wumpus was created by Gregory Yob in 1972. The original version was quite a bit different than this version: it was text based, and was based on the vertices of a collapsed dodecahedron (rather than a grid). Each room (vertex) connected to 3 others (rather than four). You can read more about it in the author's <a href="http://www.atariarchives.org/bcc1/showpage.php?page=247">Hunt The Wumpus</a></label></div><!-- Rules --><div><h2>Rules (For this version)</h2><div>Use WASD to move around, arrow keys to shoot to the square next to you.</div><div>There are 3 hazards in Hunt The Wumpus: <ul><li>The Wumps: A monster who never showers; you can smell his stench! It will instantly knock you out! (You loose)</li><li>The bottomless pit: An airy hole; you would feel a breeze. You would fall endlessly to your demise! (You loose)</li><li>a colony of bats: A noisy group of bats; you would hear flapping. It will bring you to another area unexpectedly! (You will get moved to another cell on the grid, and it could be the Wumpus or the hole)</li></ul></div><div>When you get moved by the bats, they themselves will also move, but the wumpus and the hole will stay where they are.</div><div> When you shoot and miss, the wumpus would move to another location, but cannot be your location.</div><div> When you shoot and miss, there would a chance of you stumbling upon arrows. You would automatically collect them to have a total of 6 arrows.</div><div>You will start with 5 wumpus-peircing arrows that would kill the wumpus if it's right next to you.</div></div><!-- Customisation --><div><h2>Customisation</h2><label><input type="checkbox" id="toggleEntities"> Toggle Entities </label><br><label>Grid Size: <input type="number" id="gridX" placeholder="5" value=5 min="0"> Ã— </label><label><input type="number" id="gridY" placeholder="5" value=5 min="0"></label><button id="changeGridSize" onclick="changeGridSize()">Change Grid Size</button></div><!-- Credits --><div><h2>Credits</h2><label>Inspired by <a href="https://osric.com/wumpus/">osric.com/wumpus</a> . UI and Gameplay by Yinnotayl. Arrow buttons by <a href="https://osric.com/wumpus/">osric.com/wumpus</a> osric.com/wumps, images: <ul><li><a href="https://osric.com/wumpus/images/left.png">https://osric.com/wumpus/images/left.png</a></li><li><a href="https://osric.com/wumpus/images/up.png">https://osric.com/wumpus/images/up.png</a></li><li><a href="https://osric.com/wumpus/images/right.png">https://osric.com/wumpus/images/right.png</a></li><li><a href="https://osric.com/wumpus/images/down.png">https://osric.com/wumpus/images/down.png</a></li><li><a href="https://osric.com/wumpus/images/aleft.png">https://osric.com/wumpus/images/aleft.png</a></li><li><a href="https://osric.com/wumpus/images/aup.png">https://osric.com/wumpus/images/aup.png</a></li><li><a href="https://osric.com/wumpus/images/aright.png">https://osric.com/wumpus/images/aright.png</a></li><li><a href="https://osric.com/wumpus/images/adown.png">https://osric.com/wumpus/images/adown.png</a></li></ul></label></div><script>let gridWidth=5;let gridHeight=5;const minGridX=3;const minGridY=3;const maxGridX=100;const maxGridY=100;const maxArrows=6;let arrows=5;const grid=document.getElementById('grid');let cells=[];let posX,posY;let gameFinished=!1;let shootDirection=0;let wumpusX,wumpusY;let holeX,holeY;let batX,batY;let arrowX,arrowY;let statusMessages=[];let toggleEntities=document.getElementById("toggleEntities").checked;let gridX=parseInt(document.getElementById("gridX").value)||minGridX;let gridY=parseInt(document.getElementById("gridY").value)||minGridY;if(gridX<minGridX)gridX=minGridX;if(gridY<minGridY)gridY=minGridY;function simulateKey(key){const event=new KeyboardEvent("keydown",{key:key,bubbles:!0});document.dispatchEvent(event)}function randInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}function deleteItem(item,list){const index=list.indexOf(item);if(index!==-1)list.splice(index,1);}function isInList(item,list){return list.includes(item)}function isNearIncludingDiagonals(x1,y1,x2,y2){const dx=Math.abs(x1-x2);const dy=Math.abs(y1-y2);return(dx<=1&&dy<=1)&&!(dx===0&&dy===0)}function updateStatusMessage(condition,message,list=statusMessages){const exists=list.includes(message);if(condition&&!exists)list.push(message);else if(!condition&&exists)deleteItem(message,list);}function player_loose(message){gameFinished=!0;renderEntities();statusMessages.push(message);setTimeout(()=>{alert(message);init();deleteItem(message,statusMessages);gameFinished=!1;gameLoop()},50)}function player_win(){gameFinished=!0;renderEntities();const message="You win! You shot the wumpus!";statusMessages.push(message);setTimeout(()=>{alert(message);init();deleteItem(message,statusMessages);gameFinished=!1;gameLoop()},50)}function dratsMissed(){if(!isInList("Drats! You missed!",statusMessages)){statusMessages.push("Drats! You missed!");setTimeout(()=>deleteItem("Drats! You missed!",statusMessages),2000)}if(arrows!=maxArrows){do{arrowX=randInt(0,gridWidth-1);arrowY=randInt(0,gridHeight-1)}while((arrowX===posX&&arrowY===posY)||(arrowX===wumpusX&&arrowY===wumpusY)||(arrowX===holeX&&arrowY===holeY)||(arrowX===batX&&arrowY===batY));}do{wumpusX=randInt(0,gridWidth-1);wumpusY=randInt(0,gridHeight-1)}while((wumpusX===posX&&wumpusY===posY)||(wumpusX===arrowX&&wumpusY===arrowY)||(wumpusX===holeX&&wumpusY===holeY)||(wumpusX===batX&&wumpusY===batY));}function shoot(){if(arrows<=0){if(!isInList("You're out of arrows!",statusMessages)){statusMessages.push("You're out of arrows!");setTimeout(()=>deleteItem("You're out of arrows!",statusMessages),2000)}shootDirection=0;return}arrows--;let hit=!1;switch(shootDirection){case 1:if(wumpusY===posY&&wumpusX===posX-1)hit=!0;break;case 2:if(wumpusY===posY&&wumpusX===posX+1)hit=!0;break;case 3:if(wumpusX===posX&&wumpusY===posY-1)hit=!0;break;case 4:if(wumpusX===posX&&wumpusY===posY+1)hit=!0;break}if(hit)player_win();else dratsMissed();shootDirection=0}function changeGridSize(){const newGridX=parseInt(document.getElementById("gridX").value,10)||minGridX;const newGridY=parseInt(document.getElementById("gridY").value,10)||minGridY;if(newGridX<minGridX||newGridX>maxGridX||newGridY<minGridY||newGridY>maxGridY){alert(`Grid size must be between ${minGridX}x${minGridY} and ${maxGridX}x${maxGridY}`);return}let proceed=confirm("This will also reset your game. Proceed?");if(proceed){gridWidth=newGridX;gridHeight=newGridY;init()}}function updatePosition(){cells.forEach(cell=>cell.classList.remove('red'));const index=posY*gridWidth+posX;cells[index].classList.add('red')}function renderEntities(){cells.forEach(cell=>cell.classList.remove('wumpus','hole','bat','arrow'));function validPos(x,y){return x>=0&&x<gridWidth&&y>=0&&y<gridHeight}if(validPos(wumpusX,wumpusY))cells[wumpusY*gridWidth+wumpusX].classList.add('wumpus');if(validPos(holeX,holeY))cells[holeY*gridWidth+holeX].classList.add('hole');if(validPos(batX,batY))cells[batY*gridWidth+batX].classList.add('bat');if(validPos(arrowX,arrowY))cells[arrowY*gridWidth+arrowX].classList.add('arrow');}function clearEntities(){cells.forEach(cell=>{cell.classList.remove('wumpus','hole','bat','arrow')})}function init(){posX=randInt(0,gridWidth-1);posY=randInt(0,gridHeight-1);shootDirection=0;do{wumpusX=randInt(0,gridWidth-1);wumpusY=randInt(0,gridHeight-1)}while(wumpusX===posX&&wumpusY===posY);do{holeX=randInt(0,gridWidth-1);holeY=randInt(0,gridHeight-1)}while((holeX===posX&&holeY===posY)||(holeX===wumpusX&&holeY===wumpusY));do{batX=randInt(0,gridWidth-1);batY=randInt(0,gridHeight-1)}while((batX===posX&&batY===posY)||(batX===wumpusX&&batY===wumpusY)||(batX===holeX&&batY===holeY));if(arrows!==maxArrows){do{arrowX=randInt(0,gridWidth-1);arrowY=randInt(0,gridHeight-1)}while((arrowX===posX&&arrowY===posY)||(arrowX===wumpusX&&arrowY===wumpusY)||(arrowX===holeX&&arrowY===holeY)||(arrowX===batX&&arrowY===batY));}grid.innerHTML='';grid.style.gridTemplateColumns=`repeat(${gridWidth}, 1fr)`;cells=[];for(let y=0;y<gridHeight;y++){for(let x=0;x<gridWidth;x++){const cell=document.createElement('div');cell.classList.add('cell');cell.dataset.x=x;cell.dataset.y=y;cells.push(cell);grid.appendChild(cell)}}updatePosition()}document.addEventListener('keydown',(event)=>{switch(event.key){case 'w':case 'W':if(posY>0)posY--;break;case 's':case 'S':if(posY<gridHeight-1)posY++;break;case 'a':case 'A':if(posX>0)posX--;break;case 'd':case 'D':if(posX<gridWidth-1)posX++;break;case 'ArrowUp':shootDirection=3;shoot();break;case 'ArrowDown':shootDirection=4;shoot();break;case 'ArrowLeft':shootDirection=1;shoot();break;case 'ArrowRight':shootDirection=2;shoot();break}updatePosition()});let droppedX=null;let droppedY=null;function update(){updateStatusMessage(isNearIncludingDiagonals(posX,posY,wumpusX,wumpusY),"You smell a wumpus");updateStatusMessage(isNearIncludingDiagonals(posX,posY,batX,batY),"You hear flapping");updateStatusMessage(isNearIncludingDiagonals(posX,posY,holeX,holeY),"You feel a breeze");if(arrowX===posX&&arrowY===posY){arrows=maxArrows;if(!isInList("You found an arrow!",statusMessages))statusMessages.push("You found an arrow!");}else{if(isInList("You found an arrow!",statusMessages)){deleteItem("You found an arrow!",statusMessages);arrowX=-1;arrowY=-1}}if(posX===wumpusX&&posY===wumpusY)return player_loose("You lose! You met the wumpus!");if(posX===holeX&&posY===holeY)return player_loose("You lose! You fell into the bottomless pit!");if(posX===batX&&posY===batY){posX=randInt(0,gridWidth-1);posY=randInt(0,gridHeight-1);droppedX=posX;droppedY=posY;do{batX=randInt(0,gridWidth-1);batY=randInt(0,gridHeight-1)}while((batX===posX&&batY===posY)||(batX===wumpusX&&batY===wumpusY)||(batX===holeX&&batY===holeY)||(batX===arrowX&&batY===arrowY));if(!isInList("Bats carried you away!",statusMessages)){statusMessages.push("Bats carried you away!")}}if(droppedX!==null&&droppedY!==null&&(posX!==droppedX||posY!==droppedY)){deleteItem("Bats carried you away!",statusMessages);droppedX=null;droppedY=null}const statusList=document.getElementById("statusListPosition");statusList.innerHTML='';const positionText=document.createElement("li");positionText.textContent=`You are at ${posX},${posY}`;statusList.appendChild(positionText);const arrowsText=document.createElement("li");arrowsText.textContent=`Arrows: ${arrows}/${maxArrows}`;statusList.appendChild(arrowsText);for(let message of statusMessages){const li=document.createElement('li');li.textContent=message;statusList.appendChild(li)}toggleEntities=document.getElementById("toggleEntities").checked;gridX=parseInt(document.getElementById("gridX").value)||minGridX;gridY=parseInt(document.getElementById("gridY").value)||minGridY;if(gridX<minGridX)gridX=minGridX;if(gridY<minGridY)gridY=minGridY;if(gridX>maxGridX)gridX=maxGridX;if(gridY>maxGridY)gridY=maxGridY}function render(){updatePosition();if(toggleEntities){renderEntities()}else{clearEntities()}}function gameLoop(){update();render();if(!gameFinished)requestAnimationFrame(gameLoop);}init();gameLoop() </script></body></html>